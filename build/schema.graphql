type Cat @entity {
  id: ID!
  owner: MoonRescuer!
  name: String
  inWallet: Boolean!
  activeAdoptionRequest: AdoptionRequested
  activeAdoptionOffer: AdoptionOffered
  requestPrices: [RequestPrice!] @derivedFrom(field: "cat")
  offerPrices: [OfferPrice!] @derivedFrom(field: "cat")
  wasWrapped: Boolean!
}

type MoonRescuer @entity {
  id: ID!
  cats: [Cat!]! @derivedFrom(field: "owner")
}

type AdoptionRequested @entity {
  id: ID!
  price: BigInt!
  from: Bytes!
  timestamp: BigInt!
  cat: Cat! @derivedFrom(field: "activeAdoptionRequest")
}

type AdoptionOffered @entity {
  id: ID!
  price: BigInt!
  toAddress: Bytes!
  timestamp: BigInt!
  cat: Cat! @derivedFrom(field: "activeAdoptionOffer")
}

type RequestPrice @entity {
  id: ID!
  price: BigInt!
  timestamp: BigInt!
  cat: Cat!
}

type OfferPrice @entity {
  id: ID!
  price: BigInt!
  timestamp: BigInt!
  cat: Cat!
}
